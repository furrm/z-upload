github-guidelines
=================

Guidelines for using Allen &amp; Overy GitHub repositories.

This guide assumes that you have installed the git commandline tool on your local workstation.

##Contribuitions
This document is a living document and it is expected that users of the Allen & Overy GitHub account will update this guideline where appropriate.

Please either use this guideline repo or create your own repo to practice the techniques defined in this guide.

Please DO NOT edit this file directly.  Please use topic branches to state your intent then merge back into the master branch when your changes are accepted.

>For more information about branching strategies, please refer to the Branching section below.

## Local Repo
To use this repository create a folder called github-guidelines.  Navigate to your newly created folder via a bash terminal and execute the following git commands. 

````
$ cd github-guidelines
$ git init
$ git status
````

>Note that while you are grasping GitHub concepts, you should continually execute the `$ git status` command to understand the state of you local repo.

##Connecting to the Remote Repository

As a pre-requisite to connecting to a remote repo from behind a web proxy, ensure that you execute the following command in bash:

````
$ export https_proxy={fully qualified domain name}:{port}
````

To connect to a remote repo from behind a web proxy, ensure that you have carried out the pre-requisites above.

_Private Repo_

````
$ git remote add origin https://{username}@github.com/allenovery/{repo-name}.git
````
_Public Repo_

````
$ git remote add origin https://github.com/{username}/{repo-name}.git
````

Ensure that you are connected to the correct remote repo.

````
$ git remote -v
````

Pull from the master branch of the remote repo:

````
$ git pull origin master
````

##Branching

We will use this repo to provide an example code branch.  If you follow this example, please don't delete the remote branches.

###Branch Naming Conventions

It is the intention to use "topic branches" when branching code in GitHub.  A topic branch is a way of naming a branch to show your intent.

The idea is that, for example, you wanted to add a new feature or fix a bug, you would name the branch accordingly.  

This concept also requires the user to create an issue first in relation to any change.

For now we will use the following convention:

{issue id}-{issue-name)

1-branching-sections-update

####Personal Branch

For personal branches, please use {firstName}-{lastName} naming convention, that is, Joe Bloggs would have a personal branch called joe-bloggs.

###Create Branch

Create a new branch called 1-branching-sections-update.

````
$ git branch 1-branching-sections-update
````

Make 1-branching-sections-update the active branch.

````
$ git checkout 1-branching-sections-update
````

Or use the following shortcut.

````
$ git checkout -b 1-branching-sections-update
````

>Note that at this point you have created a local branch.  The remote branch will not exist until you have made a push to the new branch

````
$ git push origin 1-branching-sections-update
````

###Add to branch

Use one of the git add and commit commands to add code changes to the branch, for example:

````
$ git add -u
$ git commit -m "made some text changes"
````

Then push your changes.

````
git push origin 1-branching-sections-update
````

###Switch branches

Switch to master.

````
$ git checkout master
````

Switch back to 1-branching-sections-update

````
$ git checkout 1-branching-sections-update
````

Check which branch you are on.

````
$ git branch
````
OR
````
$ git status
````

>Always ensure that you are on the correct branch when making your code changes.

##Merge Changes to Master

When carrying out branch merges, note that you are merging on the local repo.  Nothing changes on the remote repo until you push the changes.

Switch to the master branch.

````
$ git checkout master
````

Merge changes from the 1-branching-sections-update branch to the master branch.

````
$ git merge 1-branching-sections-update
````

Git should resolve any conflicts automatically.

>Note that if the automatic merge does not work you will be resolve any conflicts.  Please see the Resolving Conflicts section of this guide.

Now, push to the remote repo.

````
$ git push origin master
````

##Delete Branch

Once you are happy with the merged changes, delete the local branch.

````
$ git branch -d 1-branching-sections-update
````

It is possible, **but not recommended** to delete the remote branch.

````
$ git push origin --delete 1-branching-sections-update
````

> One final step that might get forgotten is to ensure that you have closed the related issue.
 
##Resolving Conflicts
...
...
...
